webpackJsonp([1],{0:function(t,e,a){t.exports=a("NHnr")},"13HU":function(t,e){},Gcnn:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("I3G/"),s=a.n(n),i=a("uj17"),r=a.n(i),o=a("Gegd"),u={data:function(){return{data:{}}},created:function(){var t=this;console.log(this),this.$http.get("data/"+this.$route.params.storeName+".json").then(function(e){var a=e.data;return t.data=a.data})}},c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop"},[a("div",{staticClass:"header"},[a("h2",[t._v(t._s(t.data.title))]),t._v(" "),a("img",{attrs:{src:"img/"+t.data.logo,alt:""}}),t._v(" "),a("p",[t._v(t._s(t.data.info))])]),t._v(" "),a("div",{staticClass:"nav"},t._l(t.data.menu,function(e,n){return a("router-link",{key:n,attrs:{to:"/shop/"+t.data.store+"/"+e.id},domProps:{textContent:t._s(e.text)}})})),t._v(" "),a("router-view"),t._v(" "),a("div",{staticClass:"shopping-car"},[a("span",[t._v("共 "+t._s(t.$store.state.num)+" 元")]),t._v(" "),a("span",{staticClass:"btn-buy"},[t._v("选好了")])])],1)},l=[],m=a("XyMi");function d(t){a("Gcnn")}var p=!1,v=d,h=null,_=null,f=Object(m["a"])(u,c,l,p,v,h,_),N=f.exports,w={data:function(){return{list:[]}},created:function(){var t=this;this.$http.get("data/menu.json",{params:{id:this.$route.params.storeName}}).then(function(e){var a=e.data;return t.list=a.data})}},C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("div",{staticClass:"menu"},t._l(t.list,function(e,n){return a("router-link",{key:n,attrs:{to:"/shop/"+t.$route.params.storeName+"/product/type/"+e.id},domProps:{textContent:t._s(e.text)}})})),t._v(" "),a("div",{staticClass:"main"},[a("router-view")],1)])},g=[];function $(t){a("13HU")}var x=!1,y=$,k=null,b=null,j=Object(m["a"])(w,C,g,x,y,k,b),O=j.exports,I={data:function(){return{list:[],all:{}}},methods:{getData:function(){var t=this,e=this.$route.params.id;this.all[e]?this.list=this.all[e]:this.$http.get("data/"+e+".json").then(function(a){var n=a.data;t.list=n.data,t.all[e]=t.list})},addItemNum:function(t){t.num++},reduceItemNum:function(t){t.num--}},created:function(){this.getData()},watch:{$route:function(){this.getData()}}},G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type"},[a("ul",t._l(t.list,function(e,n){return a("li",{key:n},[a("img",{attrs:{src:"img/item/"+e.img,alt:""}}),t._v(" "),a("div",{staticClass:"content"},[a("h3",[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"text"},[t._v("已售"+t._s(e.sales)+"份")]),t._v(" "),a("p",[a("span",{staticClass:"price"},[t._v("¥"+t._s(e.price))]),t._v(" "),a("span",{staticClass:"add",on:{click:function(a){t.addItemNum(e),t.$store.commit("addNum",e.price)}}},[t._v("+")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.num>0,expression:"item.num > 0"}],staticClass:"num"},[t._v(t._s(e.num))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:+e.num,expression:"+item.num"}],staticClass:"reduce",on:{click:function(a){t.reduceItemNum(e),t.$store.commit("reduceNum",e.price)}}},[t._v("-")])])])])}))])},H=[];function D(t){a("yNwO")}var E=!1,P=D,M=null,U=null,J=Object(m["a"])(I,G,H,E,P,M,U),X=J.exports;s.a.use(o["a"]);var Y=[{path:"/shop/:storeName",component:N,children:[{path:"product",component:O,children:[{path:"type/:id",component:X}]},{path:"evaluate",component:{template:"<h2>evaluate page</h2>"}},{path:"seller",component:{template:"<h2>seller</h2>"}}]}],q=new o["a"]({routes:Y}),z=a("NYxO");s.a.use(z["b"]);var A=new z["a"]({state:{num:0},mutations:{addNum:function(t,e){t.num+=+e},reduceNum:function(t,e){t.num-=e}}});s.a.prototype.$http=r.a,new s.a({el:"#ickt",data:{},template:"\n\t\t<router-view></router-view>\n\t",router:q,store:A})},yNwO:function(t,e){}},[0]);
//# sourceMappingURL=app.7b90459f.js.map